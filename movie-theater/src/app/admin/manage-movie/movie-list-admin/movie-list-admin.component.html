
<div style="margin-right: 0; padding-left: 20px" class="row">
<app-navbar-left></app-navbar-left>
  <div class="col-md-10 nav_content">
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <h1 style="margin-bottom: 40px; margin-right: 180px; color: #FF8D1B;">QUẢN LÝ PHIM</h1>

      <!-- Main content -->
      <section class="content">
        <div class="container-fluid ">
          <div class="card shadow">
            <div class="col-12 card-header content_search" style="display: flex; justify-content: space-between">
              <div style="margin-left: 50px" class="col-8 mt-auto mb-auto">
                <button type="button" class="btn btn-success" routerLink="/create-movie">
                  <i style="margin-right: 5px" class="fa fa-plus-circle" aria-hidden="true"></i><b style="font-size: 17px;">
                  Thêm mới</b>
                </button>
              </div>
              <div class="col-4 input-group mt-auto mb-auto search_icon" style="margin-right: 0;">
                <input type="search" class="form-control" style="width: 20rem; border-radius: 20px;"
                       placeholder="Nhập tên phim mà bạn muốn tìm kiếm" [(ngModel)]="titleSearch" (change)="searchMovieByName()">
                <div class="input-group-append" style=" display: inline">
                  <button type="button" class="btn btn-default" style="border: none; background: none" (click)="searchMovieByName()">
                    <i style="font-size: 23px; color: cornflowerblue;" class="fa fa-search"></i>

                  </button>
                </div>
              </div>
            </div>
            <ng-container *ngIf="movieList.length > 0 ">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table">
                    <thead>
                    <tr>
                      <th>STT</th>
                      <th scope="col" >Phim</th>
                      <th scope="col" >Ngày khởi chiếu</th>
                      <th scope="col" >Hãng phim</th>
                      <th scope="col" >Thời lượng</th>
                      <th scope="col" >Phiên bản</th>
                      <th scope="col" >Thao tác</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let movie of movieList| paginate: {itemsPerPage:10, currentPage: page}; index as i">
                      <td scope="row">{{i + 1}}</td>
                      <td>{{movie.title | titlecase}}</td>
                      <td align="center">{{movie.releaseDate | date: 'dd/MM/yyyy'}}</td>
                      <td>{{movie.production}}</td>
                      <td align="center">{{movie.runningTime}} phút</td>
                      <td align="center" *ngIf="movie.is3D === true">3D</td>
                      <td align="center" *ngIf="movie.is3D === false">2D</td>
                      <td class="text-center">
                        <a routerLink="/update-movie/{{movie.id}}">
                      <span class="material-icons">
                        <i style="font-size: 20px; color: #17a2b8" class="fa fa-pencil-square-o" aria-hidden="true"></i>
                      </span>
                        </a>
                        <a [routerLink]="['/show-details-movie/',movie.id]" style="margin-top: 7px">
                          <i style="font-size: 20px;" class="fa fa-info-circle" aria-hidden="true"></i>
                        </a>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
                <div class="d-flex flex-row justify-content-center ">
                  <nav aria-label="Page navigation example">
                    <div>
                      <pagination-controls (pageChange)="page = $event" style="text-align: center " previousLabel="Trước"
                                           nextLabel="Tiếp"></pagination-controls>
                    </div>
                  </nav>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="movieList.length === 0">
              <div class="text-center">
                <h3>Không tìm thấy tên {{titleSearch}} trong danh sách</h3>
              </div>
            </ng-container>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>
